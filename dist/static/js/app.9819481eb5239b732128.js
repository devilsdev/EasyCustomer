webpackJsonp([1],{0:function(e,t){},"4+hh":function(e,t){},Aawc:function(e,t){},DZqE:function(e,t){},INu2:function(e,t){},KZNl:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("md-toolbar",{staticClass:"md-accent",attrs:{id:"header","md-elevation":"1"}},[t("i",{staticClass:"material-icons"},[this._v("face")]),this._v(" "),t("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[this._v("EasyCustomer")]),this._v(" "),t("router-link",{attrs:{to:"newcustomer"}},[t("md-button",{staticClass:"md-primary"},[this._v("Add Customer")])],1)],1),this._v(" "),t("div",{attrs:{id:"mainContent"}},[t("router-view")],1)],1)},staticRenderFns:[]};var r=s("VU/8")({name:"EasyCustomer"},a,!1,function(e){s("INu2")},null,null).exports,n=s("/ocq"),i=s("BO1k"),m=s.n(i),u=s("gRE1"),c=s.n(u),l=s("thjQ"),d=s.n(l),p={props:["customer"],data:function(){return{}},methods:{goToEditView:function(e){var t=this;this.$nextTick().then(function(){$.$emit("updateCustomer",t.customer)})},deleteCustomer:function(e){this.$emit("delete-customer",e)}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-card",{staticClass:"md-primary"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v(e._s(e.customer.name)+" "+e._s(e.customer.lastname))]),e._v(" "),s("div",{staticClass:"md-subhead"},[e._v(e._s(e.customer.customerNumber))])])],1),e._v(" "),s("md-card-content",[e._v("\n    "+e._s(e.customer.adress)+", "+e._s(e.customer.postcode)+", "+e._s(e.customer.city)+" "),s("br"),e._v("\n    Phone: "+e._s(e.customer.phone)+" "),s("br"),e._v("\n    Email: "+e._s(e.customer.email)+"\n  ")]),e._v(" "),s("md-card-actions",[s("router-link",{attrs:{to:"customeredit"}},[s("md-button",{on:{click:function(t){e.goToEditView(e.customer)}}},[e._v("Edit")])],1),e._v(" "),s("md-button",{on:{click:function(t){e.deleteCustomer(e.customer)}}},[e._v("Delete")])],1)],1)},staticRenderFns:[]};var h=s("VU/8")(p,v,!1,function(e){s("Aawc")},null,null).exports,f={data:function(){return{errors:[],customer:{},customerNumber:"",name:"",lastname:"",adress:"",postcode:"",city:"",phone:"",email:""}},created:function(){var e=this;$.$on("updateCustomer",function(t){e.id=t._id,e.customer=t,e.customerNumber=t.customerNumber,e.name=t.name,e.lastname=t.lastname,e.adress=t.adress,e.postcode=t.postcode,e.city=t.city,e.phone=t.phone,e.email=t.email})},beforeDestroy:function(){$.$off("updateCustomer",this.customer)},methods:{updateCustomer:function(){var e=this,t={name:this.name,lastname:this.lastname,phone:this.phone,email:this.email,adress:this.adress,city:this.city,postcode:this.postcode,customerNumber:this.customerNumber};this.$http.put("https://easycustomer-api.herokuapp.com/api/customer/"+this.id,t).then(function(t){console.log("Updated Customer with id: "+e.id),e.$router.push({path:"/"})},function(e){d()("Customer could not be updated",{icon:"error"})})},checkForm:function(e){var t,s;e.preventDefault(),this.errors=[],t=this.email,s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,console.log(s.test(t)),s.test(t)||this.errors.push("Valid email required."),this.errors.length||this.updateCustomer()}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"customerEditView"}},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"material-icons"},[e._v("keyboard_backspace")])]),e._v(" "),e._m(0),e._v(" "),s("div",{attrs:{id:"customerEditForm"},on:{submit:e.checkForm}},[s("form",{attrs:{method:"post"}},[s("label",{attrs:{for:"customerno"}},[e._v("Customer-No.*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.customerNumber,expression:"customerNumber"}],attrs:{id:"customerno",type:"text"},domProps:{value:e.customerNumber},on:{input:function(t){t.target.composing||(e.customerNumber=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"name"}},[e._v("Firstname*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"lastname"}},[e._v("Lastname*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"lastname"}],attrs:{id:"name",type:"text"},domProps:{value:e.lastname},on:{input:function(t){t.target.composing||(e.lastname=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"adress"}},[e._v("Adress")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adress,expression:"adress"}],attrs:{id:"adress",type:"text"},domProps:{value:e.adress},on:{input:function(t){t.target.composing||(e.adress=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"postcode"}},[e._v("Postcode")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postcode,expression:"postcode"}],attrs:{id:"postcode",type:"text"},domProps:{value:e.postcode},on:{input:function(t){t.target.composing||(e.postcode=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"city"}},[e._v("City")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],attrs:{id:"city",type:"text"},domProps:{value:e.city},on:{input:function(t){t.target.composing||(e.city=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"phone"}},[e._v("Phone")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{id:"phone",type:"text"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"email"}},[e._v(" E-Mail")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("md-button",{attrs:{id:"saveButton",type:"submit"}},[e._v("Save")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"header"}},[t("h1",{staticClass:"md-title"},[this._v("Edit Customer")]),this._v(" "),t("img",{attrs:{id:"avatar",src:"https://www.w3schools.com/howto/img_avatar.png",alt:"People"}})])}]};var g=s("VU/8")(f,_,!1,function(e){s("yBU0")},null,null).exports,C={name:"CustomerList",data:function(){return{search:"",customers:[],isLoadingCustomers:!1,emptyCustomerList:!1}},components:{Customer:h,CustomerEditView:g},created:function(){this.getCustomers()},computed:{filteredCustomers:function(){var e=this;return this.customers.filter(function(t){var s=c()(t),o=!0,a=!1,r=void 0;try{for(var n,i=m()(s);!(o=(n=i.next()).done);o=!0){if(n.value.toLowerCase().match(e.search.toLowerCase()))return!0}}catch(e){a=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(a)throw r}}})}},methods:{getCustomers:function(){var e=this;console.log("reload customers"),this.isLoadingCustomers=!0,this.$http.get("https://easycustomer-api.herokuapp.com/api/customer").then(function(t){e.customers=t.body,e.isLoadingCustomers=!1,0===e.customers.length&&(e.emptyCustomerList=!0)},function(e){d()("Could not get Customers",{icon:"error"})})},deleteCustomer:function(e){var t=this;d()({title:"Delete this Customer? "+e.name+" "+e.lastname,text:"Once deleted, you will not be able to recover your Customer data",icon:"warning",buttons:[!0,"Delete"],dangerMode:!0}).then(function(s){s?(d()("Trying to delete Customer",{buttons:!1}),t.$http.delete("https://easycustomer-api.herokuapp.com/api/customer/"+e._id).then(function(e){d()("Customer has been deleted successfully!",{icon:"success"}),t.getCustomers()},function(e){console.log("ERROR: ",e),d()("Customer could not be deleted",{icon:"error"})})):d.a.close()})}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"customerList"}},[s("div",{attrs:{id:"searchbar"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{id:"searchbarInput",type:"text",placeholder:"Search for Customers..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),s("div",{attrs:{id:"customerCards"}},e._l(e.filteredCustomers,function(t){return s("customer",{key:t._id,attrs:{customer:t},on:{"delete-customer":e.deleteCustomer}})})),e._v(" "),e.isLoadingCustomers?s("div",{attrs:{id:"isLoadingPopup"}},[s("h1",{staticClass:"md-title"},[e._v("Loading Customers...")])]):e._e(),e._v(" "),e.emptyCustomerList?s("div",{attrs:{id:"emptyCustomersPopup"}},[s("h1",{staticClass:"md-title"},[e._v("No Customers found")])]):e._e()])},staticRenderFns:[]};var b=s("VU/8")(C,y,!1,function(e){s("KZNl")},null,null).exports,N={data:function(){return{customerNumber:"",name:"",lastname:"",adress:"",postcode:"",city:"",phone:"",email:""}},methods:{sendForm:function(){if(console.log(this.name.length),this.name.length>0&&this.lastname.length>0&&this.customerNumber.length>0){var e={name:this.name,lastname:this.lastname,phone:this.phone,email:this.email,adress:this.adress,city:this.city,postcode:this.postcode,customerNumber:this.customerNumber};this.addCustomer(e)}else d()("Please fill in all needed fields!",{icon:"error"})},addCustomer:function(e){var t=this;this.$http.post("https://easycustomer-api.herokuapp.com/api/customer",e).then(function(s){console.log("Customer added "+e.name+" "+e.lastname),t.$router.push({path:"/"})},function(e){d()("Could not add Customer",{icon:"error"})})}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"newcustomer"}},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"material-icons"},[e._v("keyboard_backspace")])]),e._v(" "),s("div",{attrs:{id:"newCustomerForm"}},[s("h1",{staticClass:"md-title"},[e._v("New Customer")]),e._v(" "),s("form",{attrs:{method:"post"}},[s("label",{attrs:{for:"customerno"}},[e._v("Customer-No.*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.customerNumber,expression:"customerNumber"}],attrs:{id:"customerno",type:"text",placeholder:"Enter a Customer-No."},domProps:{value:e.customerNumber},on:{input:function(t){t.target.composing||(e.customerNumber=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"name"}},[e._v("Firstname*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",type:"text",placeholder:"Enter a Firstname"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"lastname"}},[e._v("Lastname*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"lastname"}],attrs:{id:"name",type:"text",placeholder:"Enter a Lastname"},domProps:{value:e.lastname},on:{input:function(t){t.target.composing||(e.lastname=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"adress"}},[e._v("Adress")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adress,expression:"adress"}],attrs:{id:"adress",type:"text",placeholder:"Enter an Adress"},domProps:{value:e.adress},on:{input:function(t){t.target.composing||(e.adress=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"postcode"}},[e._v("Postcode")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.postcode,expression:"postcode"}],attrs:{id:"postcode",type:"text",placeholder:"Enter a Postcode"},domProps:{value:e.postcode},on:{input:function(t){t.target.composing||(e.postcode=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"adress"}},[e._v("City")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],attrs:{id:"city",type:"text",placeholder:"Enter a City"},domProps:{value:e.city},on:{input:function(t){t.target.composing||(e.city=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"phone"}},[e._v("Phone")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{id:"phone",type:"text",placeholder:"Enter a Phonenumber"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"email"}},[e._v("E-Mail")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"Enter an Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("md-button",{staticClass:"md-primary",attrs:{id:"saveButton"},on:{click:function(t){e.sendForm()}}},[e._v("Save")])],1)],1)},staticRenderFns:[]};var x=s("VU/8")(N,w,!1,function(e){s("DZqE")},null,null).exports;o.default.use(n.a);var E=new n.a({routes:[{path:"/",name:"CustomerList",component:b},{path:"/newcustomer",name:"NewCustomer",component:x},{path:"/customeredit",name:"CustomerEditView",component:g}]}),P=s("8+8L"),k=s("Lgyv"),L=s.n(k);s("4+hh");s.d(t,"bus",function(){return $}),o.default.use(L.a),o.default.use(P.a),o.default.config.productionTip=!1;var $=new o.default;new o.default({el:"#app",router:E,VueMaterial:L.a,components:{App:r},template:"<App/>"})},yBU0:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9819481eb5239b732128.js.map